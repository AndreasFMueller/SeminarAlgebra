%
% residuum.tex -- Wegintegral zur Berechnung des Residuums
%
% (c) 2026 Prof Dr Andreas MÃ¼ller, OST Ostschweizer Fachhochschule
%
\documentclass[tikz]{standalone}
\usepackage{amsmath}
\usepackage{times}
\usepackage{txfonts}
\usepackage{pgfplots}
\usepackage{csvsimple}
\usetikzlibrary{arrows,intersections,math,calc}
\definecolor{darkred}{rgb}{0.8,0,0}
\begin{document}
\def\skala{1}
\def\h{0.03}
\def\r{0.5}
\def\punkt#1#2{
	\fill[color=white] #1 circle[radius=0.05];
	\draw[color=#2] #1 circle[radius=0.05];
}
\begin{tikzpicture}[>=latex,thick,scale=\skala]

\coordinate (z0) at (4,3);
\coordinate (a) at (1,2);
\coordinate (b) at (6,4);
\coordinate (d) at (7,3);
\coordinate (c) at (2,5);
\coordinate (e) at (3,0.8);

\draw[->] (-0.1,0) -- (8,0) coordinate[label={$\operatorname{Re}$}];
\draw[->] (0,-0.1) -- (0,7) coordinate[label={right:$\operatorname{Im}$}];
\node at (8,7) [below left] {$\mathbb{C}$};
\pgfmathparse{atan(\h/\r)}
\xdef\w{\pgfmathresult}

\fill[color=darkred!10]
	(a) to[out=-60,in=180]
	(e) to[out=0,in=-70]
	($(d)-({\h/tan(120)},\h)$) --
	($(z0)+(-\w:\r)$) arc(-\w:{-360+\w}:\r) --
	($(d)+({\h/tan(120)},\h)$) to[out=110,in=-70]
	(b) to[out=110,in=80]
	(c) to[out=-100,in=120]
	(a) -- cycle;

\draw[color=darkred]
	(a) to[out=-60,in=180]
	(e) to[out=0,in=-70]
	($(d)-({\h/tan(120)},\h)$) --
	($(z0)+(-\w:\r)$) arc(-\w:{-360+\w}:\r) --
	($(d)+({\h/tan(120)},\h)$) to[out=110,in=-70]
	(b) to[out=110,in=80]
	(c) to[out=-100,in=120]
	(a) -- cycle;
\draw[color=blue]
	($(d)-({\h/tan(120)},\h)$) --
	($(z0)+(-\w:\r)$) arc(-\w:{-360+\w}:\r) --
	($(d)+({\h/tan(120)},\h)$);

\punkt{(a)}{darkred}
\draw[->,color=darkred] (e) -- ++(0.1,0);
\draw[->,color=darkred] (b) -- ++(110:0.1);
\draw[->,color=darkred] (c) -- ++(-100:0.1);
\draw[->,color=blue] ($(z0)+(120:{0.99*\r})$) -- ++(30:0.15);
\draw[->,color=blue] ($0.7*(z0)+0.7*(\r,0)+0.3*(d)+(0,-\h)$) -- ++(-0.1,0);
\draw[->,color=blue] ($0.3*(z0)+0.3*(\r,0)+0.7*(d)+(0,+\h)$) -- ++(0.1,0);
\node[color=blue] at (d) [right] {$A$};

\node[color=darkred] at (c) [left] {$\gamma$};
\node[color=blue] at ($0.5*(z0)+0.5*(\r,0)+0.5*(d)$) [above] {$\gamma_+$};
\node[color=blue] at ($0.5*(z0)+0.5*(\r,0)+0.5*(d)$) [below] {$\gamma_-$};
\node[color=blue] at ($(z0)+(150:\r)$) [above left] {$\gamma_1$};

\punkt{(z0)}{black}
\node at (z0) [above] {$z_0$};

\end{tikzpicture}
\end{document}

